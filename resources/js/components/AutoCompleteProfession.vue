<template>
    <div>
        <v-autocomplete v-model="selectProfession" :items="professions" label="Profiss達o" item-text="name"
                        item-value="id" deletable-chips hint="Selecione a profiss達o do membro"
                        no-data-text="N達o encontramos esta profiss達o!" :input="selecionouItem()"></v-autocomplete>
    </div>
</template>

<script>
    import {mapGetters} from 'vuex';
    export default {
        name: 'AutoCompleteProfession',
        props: {

        },

        data: () => ({
            selectProfession: null
        }),
        created () {

        },
        methods: {
            selecionouItem(){
                this.$emit('click', this.selectProfession);
            },
            fetchProfessions(){
                this.$store.dispatch('member/fetchProfessions');
            },
        },
        computed: {
            ...mapGetters({professions: 'member/professions'})
        },
        mounted(){
            this.fetchProfessions();
        },
    }
</script>
